[["data-transformation.html", "Chapter 3 Data transformation 3.1 Data loading and cleaning 3.2 Data preprocessing 3.3 Compute ratio of samples exceeding safety threshold and group by zipcode 3.4 Join at-the-tap water data and children data", " Chapter 3 Data transformation 3.1 Data loading and cleaning Datasets are first downloaded as csv files and then read into R. In the two datasets for at-the-tap water test results, the &quot;Borough&quot; column contain both uppercase and lowercase strings while refering to the same borough, hence we transformed all rows of &quot;Borough&quot; column to be uppercase strings. The units of at-the-tap lead level are different in two datasets. Hence, we transform the unit in &quot;compliance&quot; data from \\(\\mu g/l\\) to \\(mg/l\\). 3.2 Data preprocessing Since two at-the-tap lead level datasets have many variables in common, we pick out their common columns and merge them to be a single large table. Meanwhile, we add an extra column to denote which dataset the observation is originally from. 3.3 Compute ratio of samples exceeding safety threshold and group by zipcode According to United States Environmental Protection Agency (EPA), a lead level over 0.015 mg/L is unsafe for human body. Hence, we add a binary label to show the safety status of the water sample and calculate the rate of having unsafe samples in each area. 3.4 Join at-the-tap water data and children data Since the water dataset contains zipcode information and the children data contains name of the neighbourhoods, we make a dictionary by looking up the zipcodes on official websites and join the two datasets using the dictionary. In this way, we are able to explore the relationship between the rate of having unsafe water samples and the rate of having unhealthy children blood samples. "]]
